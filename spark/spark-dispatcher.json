{
  "id": "spark",
  "cpus": 1,
  "mem": 1024,
  "user": "root",
  "cmd": "/sbin/init.sh",
  "container": {
    "type": "MESOS",
    "docker": {
      "image": "mesosphere/spark:1.0.9-2.1.0-1-hadoop-2.6"
    }
  },
  "env": {
    "DCOS_SERVICE_NAME": "spark",
    "SPARK_DISPATCHER_MESOS_PRINCIPAL": "",
    "SPARK_DISPATCHER_MESOS_ROLE": "*",
    "SPARK_DISPATCHER_MESOS_SECRET": "",
    "SPARK_HDFS_CONFIG_URL": "http://api.hdfs.marathon.l4lb.thisdcos.directory/v1/endpoints",
    "SPARK_LOG_LEVEL": "INFO",
    "SPARK_USER": "root"
  },
  "labels": {
    "DCOS_PACKAGE_COMMAND": "eyJwaXAiOlsiaHR0cHM6Ly9kb3dubG9hZHMubWVzb3NwaGVyZS5jb20vc3BhcmsvYXNzZXRzLzEuMC45LTIuMS4wLTEvZGNvc19zcGFyay0wLjUuMTktcHkyLnB5My1ub25lLWFueS53aGwiXX0=",
    "DCOS_PACKAGE_FRAMEWORK_NAME": "spark",
    "DCOS_PACKAGE_IS_FRAMEWORK": "false",
    "DCOS_PACKAGE_METADATA": "eyJwYWNrYWdpbmdWZXJzaW9uIjoiMy4wIiwibmFtZSI6InNwYXJrIiwidmVyc2lvbiI6IjEuMC45LTIuMS4wLTEiLCJtYWludGFpbmVyIjoic3VwcG9ydEBtZXNvc3BoZXJlLmlvIiwiZGVzY3JpcHRpb24iOiJTcGFyayBpcyBhIGZhc3QgYW5kIGdlbmVyYWwgY2x1c3RlciBjb21wdXRpbmcgc3lzdGVtIGZvciBCaWcgRGF0YS4gIERvY3VtZW50YXRpb246IGh0dHBzOi8vZG9jcy5tZXNvc3BoZXJlLmNvbS9jdXJyZW50L3VzYWdlL3NlcnZpY2UtZ3VpZGVzL3NwYXJrLyIsInRhZ3MiOlsiYmlnZGF0YSIsIm1hcHJlZHVjZSIsImJhdGNoIiwiYW5hbHl0aWNzIl0sInNlbGVjdGVkIjp0cnVlLCJzY20iOiJodHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL3NwYXJrLmdpdCIsIndlYnNpdGUiOiJodHRwczovL2RvY3MubWVzb3NwaGVyZS5jb20vY3VycmVudC91c2FnZS9zZXJ2aWNlLWd1aWRlcy9zcGFyay8iLCJmcmFtZXdvcmsiOmZhbHNlLCJwb3N0SW5zdGFsbE5vdGVzIjoiREMvT1MgU3BhcmsgaXMgYmVpbmcgaW5zdGFsbGVkIVxuXG5cdERvY3VtZW50YXRpb246IGh0dHBzOi8vZG9jcy5tZXNvc3BoZXJlLmNvbS9jdXJyZW50L3VzYWdlL3NlcnZpY2UtZ3VpZGVzL3NwYXJrL1xuXHRJc3N1ZXM6IGh0dHBzOi8vZG9jcy5tZXNvc3BoZXJlLmNvbS9zdXBwb3J0LyIsInBvc3RVbmluc3RhbGxOb3RlcyI6IlRoZSBBcGFjaGUgU3BhcmsgREMvT1MgU2VydmljZSBoYXMgYmVlbiB1bmluc3RhbGxlZCBhbmQgd2lsbCBubyBsb25nZXIgcnVuLlxuUGxlYXNlIGZvbGxvdyB0aGUgaW5zdHJ1Y3Rpb25zIGF0IGh0dHBzOi8vZG9jcy5tZXNvc3BoZXJlLmNvbS9jdXJyZW50L3VzYWdlL3NlcnZpY2UtZ3VpZGVzL3NwYXJrL3VuaW5zdGFsbC8gdG8gY2xlYW4gdXAgYW55IHBlcnNpc3RlZCBzdGF0ZS4iLCJsaWNlbnNlcyI6W3sibmFtZSI6IkFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wIiwidXJsIjoiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FwYWNoZS9zcGFyay9tYXN0ZXIvTElDRU5TRSJ9XSwiaW1hZ2VzIjp7Imljb24tc21hbGwiOiJodHRwczovL2Rvd25sb2Fkcy5tZXNvc3BoZXJlLmlvL3NwYXJrL2Fzc2V0cy9pY29uLXNlcnZpY2Utc3Bhcmstc21hbGwucG5nIiwiaWNvbi1tZWRpdW0iOiJodHRwczovL2Rvd25sb2Fkcy5tZXNvc3BoZXJlLmlvL3NwYXJrL2Fzc2V0cy9pY29uLXNlcnZpY2Utc3BhcmstbWVkaXVtLnBuZyIsImljb24tbGFyZ2UiOiJodHRwczovL2Rvd25sb2Fkcy5tZXNvc3BoZXJlLmlvL3NwYXJrL2Fzc2V0cy9pY29uLXNlcnZpY2Utc3BhcmstbGFyZ2UucG5nIn19",
    "DCOS_PACKAGE_NAME": "spark",
    "DCOS_PACKAGE_REGISTRY_VERSION": "3.0",
    "DCOS_PACKAGE_RELEASE": "25",
    "DCOS_PACKAGE_SOURCE": "https://universe.mesosphere.com/repo",
    "DCOS_PACKAGE_VERSION": "1.0.9-2.1.0-1",
    "DCOS_SERVICE_NAME": "spark",
    "DCOS_SERVICE_PORT_INDEX": "2",
    "DCOS_SERVICE_SCHEME": "http",
    "SPARK_HDFS_CONFIG_URL": "http://api.hdfs.marathon.l4lb.thisdcos.directory/v1/endpoints",
    "SPARK_URI": "https://downloads.mesosphere.com/spark/assets/spark-2.1.0-1-bin-2.6.tgz",
    "MARATHON_SINGLE_INSTANCE_APP": "true"
  },
  "upgradeStrategy": {
    "maximumOverCapacity": 0,
    "minimumHealthCapacity": 0
  },
  "portDefinitions": [
    {
      "protocol": "tcp",
      "port": 0,
      "labels": {
        "VIP_0": "spark:7077"
      },
      "name": "dispatcher"
    },
    {
      "protocol": "tcp",
      "port": 0,
      "labels": {
        "VIP_1": "spark:4040"
      },
      "name": "dispatcher-ui"
    },
    {
      "protocol": "tcp",
      "port": 0,
      "labels": {
        "VIP_2": "spark:80"
      },
      "name": "dispatcher-proxy"
    }
  ],
  "healthChecks": [
    {
      "protocol": "MESOS_HTTP",
      "path": "/",
      "portIndex": 2,
      "gracePeriodSeconds": 30,
      "intervalSeconds": 20,
      "timeoutSeconds": 10,
      "maxConsecutiveFailures": 3
    }
  ]
}
